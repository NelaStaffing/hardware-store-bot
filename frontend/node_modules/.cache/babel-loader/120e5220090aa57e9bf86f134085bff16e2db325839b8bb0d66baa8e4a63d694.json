{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nelav\\\\OneDrive\\\\Desktop\\\\Code Projects\\\\hardware Store Bot\\\\frontend\\\\src\\\\components\\\\ChatbotSection.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport LoadingSpinner from './LoadingSpinner';\nimport VoiceButton from './VoiceButton';\nimport ChatBubble from './ChatBubble';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatbotSection() {\n  _s();\n  const [selectedProductSKU, setSelectedProductSKU] = useState(null);\n  const [previewProduct, setPreviewProduct] = useState(null);\n  const [previewLoading, setPreviewLoading] = useState(false);\n  const [previewError, setPreviewError] = useState(null);\n  const handleProductClick = sku => setSelectedProductSKU(sku);\n  useEffect(() => {\n    if (!selectedProductSKU) {\n      setPreviewProduct(null);\n      setPreviewError(null);\n      setPreviewLoading(false);\n      return;\n    }\n    setPreviewLoading(true);\n    setPreviewError(null);\n    axios.post('http://localhost:5000/api/openProductDetail', {\n      sku: selectedProductSKU\n    }).then(res => {\n      setPreviewProduct(res.data.product);\n      setPreviewLoading(false);\n    }).catch(err => {\n      setPreviewError('Product not found.');\n      setPreviewProduct(null);\n      setPreviewLoading(false);\n    });\n  }, [selectedProductSKU]);\n  const [messages, setMessages] = useState([{\n    sender: 'agent',\n    text: `Yes, we carry a couple of expandable 100-foot garden hoses:\n\n1. XHose Pro 5/8 In. Dia. X 100 Ft. L. Expandable Hose: This hose is made of tough Dac-5 fiber webbing with a drag-resistant polyester outer layer and solid brass fittings. It's lightweight, crush-resistant, kink-free, and automatically expands and shrinks after use. Price: $49.99. You can find it in aisle 34 at our Lititz, PA location.\n2. Hydrotech 5/8 In. x 100 Ft. Expandable Burst Proof Hose: This burst-proof hose has a thick latex lining, a heavy-duty shutoff valve, and connectors that fit most nozzles and sprinklers. Price: $29.99. (Ask an associate for location or check online.)\n\nWhen using expandable garden hoses, avoid dragging them over sharp surfaces, don’t leave them pressurized when not in use, and store out of direct sun to prolong their lifespan.\n\nLet me know if you’d like details about either item or help with alternatives!\n\n{\"type\":\"product_list\",\"products\":[{\"name\":\"XHose Pro 5/8 In. Dia. X 100 Ft. L. Expandable Hose\",\"price\":49.99,\"aisle\":\"34\", \"SKU\": \"EC182\"},{\"name\":\"Hydrotech 5/8 In. x 100 Ft. Expandable Burst Proof Hose\",\"price\":29.99,\"aisle\":\"34\", \"SKU\": \"SE12500V90E\"}]}`,\n    timestamp: \"now\"\n  }]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const chatEndRef = useRef(null);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages, loading]);\n  const handleSend = async e => {\n    e.preventDefault();\n    if (!input.trim() || loading) return;\n    const userMsg = {\n      sender: 'user',\n      text: input\n    };\n    setMessages(msgs => [...msgs, userMsg]);\n    setInput('');\n    setLoading(true);\n    try {\n      let sessionId = localStorage.getItem('sessionId');\n      if (!sessionId) {\n        var _window$crypto, _window$crypto$random;\n        sessionId = ((_window$crypto = window.crypto) === null || _window$crypto === void 0 ? void 0 : (_window$crypto$random = _window$crypto.randomUUID) === null || _window$crypto$random === void 0 ? void 0 : _window$crypto$random.call(_window$crypto)) || Date.now().toString();\n        localStorage.setItem('sessionId', sessionId);\n      }\n      const res = await axios.post('http://localhost:5000/api/chat', {\n        message: input,\n        history: messages,\n        sessionId\n      });\n\n      // Check if the response looks like a tool call for openProductDetail\n      let botMsg = res.data.reply;\n      let productMsg = null;\n      try {\n        var _parsed$tool_input;\n        const parsed = typeof botMsg === 'string' ? JSON.parse(botMsg) : botMsg;\n        if (parsed && parsed.tool === 'openProductDetail' && (_parsed$tool_input = parsed.tool_input) !== null && _parsed$tool_input !== void 0 && _parsed$tool_input.id) {\n          // Fetch product detail from backend\n          const prodRes = await axios.post('http://localhost:5000/api/openProductDetail', {\n            sku: parsed.tool_input.id\n          });\n          if (prodRes.data && prodRes.data.product) {\n            const p = prodRes.data.product;\n            productMsg = `Product Details\\nName: ${p.name || ''}\\nSKU: ${p.SKU || ''}\\nPrice: $${p.price || ''}\\n${p.description ? 'Description: ' + p.description + '\\n' : ''}${p.URL ? 'URL: ' + p.URL : ''}`;\n          } else {\n            productMsg = 'Product not found.';\n          }\n        }\n      } catch (err) {/* Not a tool call, treat as normal reply */}\n      setMessages(msgs => [...msgs, {\n        sender: 'agent',\n        text: productMsg || (typeof botMsg === 'string' ? botMsg : JSON.stringify(botMsg))\n      }]);\n    } catch (err) {\n      setMessages(msgs => [...msgs, {\n        sender: 'agent',\n        text: 'Sorry, there was an error connecting to the assistant.'\n      }]);\n    }\n    setLoading(false);\n  };\n  const handleClear = () => {\n    setMessages([{\n      sender: 'agent',\n      text: 'Hi! What can I help you with?'\n    }]);\n    setInput('');\n    localStorage.removeItem('sessionId');\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"chatbot-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatbot-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatbot-title\",\n        children: \"Chatbot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-clear\",\n        onClick: handleClear,\n        children: \"Clear Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatbot-messages\",\n      children: [messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(ChatBubble, {\n        message: msg,\n        onProductClick: handleProductClick\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)), selectedProductSKU && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 24,\n          padding: 16,\n          border: '1px solid #1976d2',\n          borderRadius: 10,\n          background: '#f0f7ff',\n          minHeight: 80\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Product Preview:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), previewLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 30\n        }, this), previewError && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red'\n          },\n          children: previewError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 28\n        }, this), previewProduct && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 600,\n              fontSize: 17\n            },\n            children: previewProduct.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#555',\n              fontSize: 15\n            },\n            children: previewProduct.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#007aff',\n              fontWeight: 500\n            },\n            children: [\"Price: $\", previewProduct.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#888',\n              fontSize: 13\n            },\n            children: [\"SKU: \", previewProduct.SKU]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), previewProduct.aisle && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#1976d2',\n              fontSize: 13\n            },\n            children: [\"Aisle: \", previewProduct.aisle]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 40\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), \"  )}\", loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          padding: 8\n        },\n        children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"chatbot-input\",\n      onSubmit: handleSend,\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: input,\n        onChange: e => setInput(e.target.value),\n        placeholder: \"Type a message...\",\n        style: {\n          flex: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          minWidth: 60\n        },\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(VoiceButton, {\n        disabled: loading,\n        onResult: t => setInput(t)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatbotSection, \"NvAnKvqVypvYz9qlYG8ZIEa2YJc=\");\n_c = ChatbotSection;\nvar _c;\n$RefreshReg$(_c, \"ChatbotSection\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","LoadingSpinner","VoiceButton","ChatBubble","jsxDEV","_jsxDEV","ChatbotSection","_s","selectedProductSKU","setSelectedProductSKU","previewProduct","setPreviewProduct","previewLoading","setPreviewLoading","previewError","setPreviewError","handleProductClick","sku","post","then","res","data","product","catch","err","messages","setMessages","sender","text","timestamp","input","setInput","loading","setLoading","chatEndRef","_chatEndRef$current","current","scrollIntoView","behavior","handleSend","e","preventDefault","trim","userMsg","msgs","sessionId","localStorage","getItem","_window$crypto","_window$crypto$random","window","crypto","randomUUID","call","Date","now","toString","setItem","message","history","botMsg","reply","productMsg","_parsed$tool_input","parsed","JSON","parse","tool","tool_input","id","prodRes","p","name","SKU","price","description","URL","stringify","handleClear","removeItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","msg","idx","onProductClick","style","marginTop","padding","border","borderRadius","background","minHeight","color","fontWeight","fontSize","aisle","display","justifyContent","ref","onSubmit","alignItems","gap","value","onChange","target","placeholder","flex","type","minWidth","disabled","onResult","t","_c","$RefreshReg$"],"sources":["C:/Users/nelav/OneDrive/Desktop/Code Projects/hardware Store Bot/frontend/src/components/ChatbotSection.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\n\nimport LoadingSpinner from './LoadingSpinner';\nimport VoiceButton from './VoiceButton';\nimport ChatBubble from './ChatBubble';\n\nexport default function ChatbotSection() {\n  const [selectedProductSKU, setSelectedProductSKU] = useState(null);\n  const [previewProduct, setPreviewProduct] = useState(null);\n  const [previewLoading, setPreviewLoading] = useState(false);\n  const [previewError, setPreviewError] = useState(null);\n  const handleProductClick = sku => setSelectedProductSKU(sku);\n\n  useEffect(() => {\n    if (!selectedProductSKU) {\n      setPreviewProduct(null);\n      setPreviewError(null);\n      setPreviewLoading(false);\n      return;\n    }\n    setPreviewLoading(true);\n    setPreviewError(null);\n    axios.post('http://localhost:5000/api/openProductDetail', { sku: selectedProductSKU })\n      .then(res => {\n        setPreviewProduct(res.data.product);\n        setPreviewLoading(false);\n      })\n      .catch(err => {\n        setPreviewError('Product not found.');\n        setPreviewProduct(null);\n        setPreviewLoading(false);\n      });\n  }, [selectedProductSKU]);\n  const [messages, setMessages] = useState([\n    {\n      sender: 'agent',\n      text: `Yes, we carry a couple of expandable 100-foot garden hoses:\n\n1. XHose Pro 5/8 In. Dia. X 100 Ft. L. Expandable Hose: This hose is made of tough Dac-5 fiber webbing with a drag-resistant polyester outer layer and solid brass fittings. It's lightweight, crush-resistant, kink-free, and automatically expands and shrinks after use. Price: $49.99. You can find it in aisle 34 at our Lititz, PA location.\n2. Hydrotech 5/8 In. x 100 Ft. Expandable Burst Proof Hose: This burst-proof hose has a thick latex lining, a heavy-duty shutoff valve, and connectors that fit most nozzles and sprinklers. Price: $29.99. (Ask an associate for location or check online.)\n\nWhen using expandable garden hoses, avoid dragging them over sharp surfaces, don’t leave them pressurized when not in use, and store out of direct sun to prolong their lifespan.\n\nLet me know if you’d like details about either item or help with alternatives!\n\n{\"type\":\"product_list\",\"products\":[{\"name\":\"XHose Pro 5/8 In. Dia. X 100 Ft. L. Expandable Hose\",\"price\":49.99,\"aisle\":\"34\", \"SKU\": \"EC182\"},{\"name\":\"Hydrotech 5/8 In. x 100 Ft. Expandable Burst Proof Hose\",\"price\":29.99,\"aisle\":\"34\", \"SKU\": \"SE12500V90E\"}]}`,\n      timestamp: \"now\"\n    }\n  ]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const chatEndRef = useRef(null);\n\n  useEffect(() => {\n    chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages, loading]);\n\n  const handleSend = async (e) => {\n    e.preventDefault();\n    if (!input.trim() || loading) return;\n    const userMsg = { sender: 'user', text: input };\n    setMessages(msgs => [...msgs, userMsg]);\n    setInput('');\n    setLoading(true);\n    try {\n      let sessionId = localStorage.getItem('sessionId');\n      if (!sessionId) {\n        sessionId = (window.crypto?.randomUUID?.() || Date.now().toString());\n        localStorage.setItem('sessionId', sessionId);\n      }\n      const res = await axios.post('http://localhost:5000/api/chat', {\n        message: input,\n        history: messages,\n        sessionId,\n      });\n\n      // Check if the response looks like a tool call for openProductDetail\n      let botMsg = res.data.reply;\n      let productMsg = null;\n      try {\n        const parsed = typeof botMsg === 'string' ? JSON.parse(botMsg) : botMsg;\n        if (parsed && parsed.tool === 'openProductDetail' && parsed.tool_input?.id) {\n          // Fetch product detail from backend\n          const prodRes = await axios.post('http://localhost:5000/api/openProductDetail', {\n            sku: parsed.tool_input.id\n          });\n          if (prodRes.data && prodRes.data.product) {\n            const p = prodRes.data.product;\n            productMsg = `Product Details\\nName: ${p.name || ''}\\nSKU: ${p.SKU || ''}\\nPrice: $${p.price || ''}\\n${p.description ? 'Description: ' + p.description + '\\n' : ''}${p.URL ? 'URL: ' + p.URL : ''}`;\n          } else {\n            productMsg = 'Product not found.';\n          }\n        }\n      } catch (err) { /* Not a tool call, treat as normal reply */ }\n\n      setMessages(msgs => [\n        ...msgs,\n        { sender: 'agent', text: productMsg || (typeof botMsg === 'string' ? botMsg : JSON.stringify(botMsg)) }\n      ]);\n    } catch (err) {\n      setMessages(msgs => [...msgs, { sender: 'agent', text: 'Sorry, there was an error connecting to the assistant.' }]);\n    }\n    setLoading(false);\n  };\n\n\n  const handleClear = () => {\n    setMessages([{ sender: 'agent', text: 'Hi! What can I help you with?' }]);\n    setInput('');\n    localStorage.removeItem('sessionId');\n  };\n\n  return (\n    <section className=\"chatbot-section\">\n      <div className=\"chatbot-header\">\n        <div className=\"chatbot-title\">Chatbot</div>\n        <button className=\"btn-clear\" onClick={handleClear}>Clear Chat</button>\n      </div>\n      <div className=\"chatbot-messages\">\n        {messages.map((msg, idx) => (\n          <ChatBubble key={idx} message={msg} onProductClick={handleProductClick} />\n        ))}\n        {selectedProductSKU && (\n        <div style={{marginTop: 24, padding: 16, border: '1px solid #1976d2', borderRadius: 10, background: '#f0f7ff', minHeight: 80}}>\n          <b>Product Preview:</b>\n          {previewLoading && <div>Loading...</div>}\n          {previewError && <div style={{color: 'red'}}>{previewError}</div>}\n          {previewProduct && (\n            <div style={{marginTop: 8}}>\n              <div style={{fontWeight: 600, fontSize: 17}}>{previewProduct.name}</div>\n              <div style={{color: '#555', fontSize: 15}}>{previewProduct.description}</div>\n              <div style={{color: '#007aff', fontWeight: 500}}>Price: ${previewProduct.price}</div>\n              <div style={{color: '#888', fontSize: 13}}>SKU: {previewProduct.SKU}</div>\n              {previewProduct.aisle && <div style={{color: '#1976d2', fontSize: 13}}>Aisle: {previewProduct.aisle}</div>}\n            </div>\n          )}\n        </div>\n      )}  )}\n        {loading && (\n          <div style={{ display: 'flex', justifyContent: 'center', padding: 8 }}>\n            <LoadingSpinner />\n          </div>\n        )}\n        <div ref={chatEndRef} />\n      </div>\n      <form className=\"chatbot-input\" onSubmit={handleSend} style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n        <input\n          value={input}\n          onChange={e => setInput(e.target.value)}\n          placeholder=\"Type a message...\"\n          style={{ flex: 1 }}\n        />\n        <button type=\"submit\" style={{ minWidth: 60 }}>Send</button>\n        <VoiceButton disabled={loading} onResult={t => setInput(t)} />\n      </form>\n    </section>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}