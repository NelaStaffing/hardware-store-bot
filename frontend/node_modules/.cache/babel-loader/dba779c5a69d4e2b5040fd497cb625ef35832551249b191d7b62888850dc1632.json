{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Products(_ref){let{selectedProductSKU}=_ref;const sku=selectedProductSKU||'';const[product,setProduct]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Fetch product when SKU changes via POST\nuseEffect(()=>{if(!sku){setProduct(null);setLoading(false);return;}setLoading(true);setError(null);axios.post(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000',\"/api/openProductDetail\"),{sku}).then(res=>{setProduct(res.data.product);setLoading(false);}).catch(()=>{setProduct(null);setError('Product not found.');setLoading(false);});},[sku]);return/*#__PURE__*/_jsxs(\"section\",{className:\"products-section\",style:{maxHeight:'520px',overflowY:'auto'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Product Preview\"}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading product...\"}):!sku||error||!product?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',color:'#888',padding:'48px 0',fontSize:20},children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://kruyefkcggouvvgldipa.supabase.co/storage/v1/object/public/images-app//Blue-print-tools-icons_lg.png\",alt:\"Preview Placeholder\",style:{width:80,marginBottom:16,opacity:0.18}}),/*#__PURE__*/_jsx(\"div\",{children:\"Ask and preview any product.\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://kruyefkcggouvvgldipa.supabase.co/storage/v1/object/public/images-app//Blue-print-tools-icons_lg.png\",alt:\"Product\",style:{width:120,height:120,objectFit:'contain',display:'block',margin:'0 auto 16px auto',background:'#f6f8fa',borderRadius:12}}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-name\",children:product.name}),/*#__PURE__*/_jsx(\"div\",{className:\"product-desc\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[\"$\",product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-sku\",children:[\"SKU: \",product.SKU]}),product.URL&&/*#__PURE__*/_jsx(\"a\",{href:product.URL,target:\"_blank\",rel:\"noopener noreferrer\",children:\"Product Link\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-actions\",style:{display:'flex',gap:16,marginTop:16},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-remove\",style:{background:'#f44336',border:'none',borderRadius:'50%',width:48,height:48,color:'#fff',fontSize:32,cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center'},title:\"Discard\",onClick:()=>{// Remove from shopping list\nlet list=JSON.parse(localStorage.getItem('shoppingList')||'[]');list=list.filter(item=>item.SKU!==product.SKU);localStorage.setItem('shoppingList',JSON.stringify(list));alert('Product removed from shopping list');},children:\"\\u2716\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-add\",style:{background:'#4caf50',border:'none',borderRadius:'50%',width:48,height:48,color:'#fff',fontSize:32,cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center'},title:\"Add to Shopping List\",onClick:()=>{// Add to shopping list\nlet list=JSON.parse(localStorage.getItem('shoppingList')||'[]');if(!list.find(item=>item.SKU===product.SKU)){list.push(product);localStorage.setItem('shoppingList',JSON.stringify(list));window.dispatchEvent(new Event('shoppingListUpdated'));alert('Product added to shopping list');}else{alert('Product already in shopping list');}},children:\"\\u2714\"})]})]},product.id)]});}","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Products","_ref","selectedProductSKU","sku","product","setProduct","loading","setLoading","error","setError","post","concat","process","env","REACT_APP_API_URL","then","res","data","catch","className","style","maxHeight","overflowY","children","textAlign","color","padding","fontSize","src","alt","width","marginBottom","opacity","height","objectFit","display","margin","background","borderRadius","name","description","price","SKU","URL","href","target","rel","gap","marginTop","border","cursor","alignItems","justifyContent","title","onClick","list","JSON","parse","localStorage","getItem","filter","item","setItem","stringify","alert","find","push","window","dispatchEvent","Event","id"],"sources":["C:/Users/nelav/OneDrive/Desktop/Code Projects/hardware Store Bot/frontend/src/components/Products.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nexport default function Products({ selectedProductSKU }) {\n  const sku = selectedProductSKU || '';\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n\n\n  // Fetch product when SKU changes via POST\n  useEffect(() => {\n    if (!sku) {\n      setProduct(null);\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    axios.post(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/openProductDetail`, { sku })\n      .then(res => {\n        setProduct(res.data.product);\n        setLoading(false);\n      })\n      .catch(() => {\n        setProduct(null);\n        setError('Product not found.');\n        setLoading(false);\n      });\n  }, [sku]);\n\n  return (\n    <section className=\"products-section\" style={{ maxHeight: '520px', overflowY: 'auto' }}>\n      <h2>Product Preview</h2>\n      {loading ? (\n        <div>Loading product...</div>\n      ) : !sku || error || !product ? (\n        <div style={{ textAlign: 'center', color: '#888', padding: '48px 0', fontSize: 20 }}>\n          <img src=\"https://kruyefkcggouvvgldipa.supabase.co/storage/v1/object/public/images-app//Blue-print-tools-icons_lg.png\" alt=\"Preview Placeholder\" style={{ width: 80, marginBottom: 16, opacity: 0.18 }} />\n          <div>Ask and preview any product.</div>\n        </div>\n      ) : (\n        <div className=\"product-card\" key={product.id}>\n          <img\n            src=\"https://kruyefkcggouvvgldipa.supabase.co/storage/v1/object/public/images-app//Blue-print-tools-icons_lg.png\"\n            alt=\"Product\"\n            style={{ width: 120, height: 120, objectFit: 'contain', display: 'block', margin: '0 auto 16px auto', background: '#f6f8fa', borderRadius: 12 }}\n          />\n          <div className=\"product-details\">\n            <div className=\"product-name\">{product.name}</div>\n            <div className=\"product-desc\">{product.description}</div>\n            <div className=\"product-price\">${product.price}</div>\n            <div className=\"product-sku\">SKU: {product.SKU}</div>\n            {product.URL && <a href={product.URL} target=\"_blank\" rel=\"noopener noreferrer\">Product Link</a>}\n          </div>\n          <div className=\"product-actions\" style={{ display: 'flex', gap: 16, marginTop: 16 }}>\n            <button\n              className=\"btn-remove\"\n              style={{ background: '#f44336', border: 'none', borderRadius: '50%', width: 48, height: 48, color: '#fff', fontSize: 32, cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center' }}\n              title=\"Discard\"\n              onClick={() => {\n                // Remove from shopping list\n                let list = JSON.parse(localStorage.getItem('shoppingList') || '[]');\n                list = list.filter(item => item.SKU !== product.SKU);\n                localStorage.setItem('shoppingList', JSON.stringify(list));\n                alert('Product removed from shopping list');\n              }}\n            >\n              &#10006;\n            </button>\n            <button\n              className=\"btn-add\"\n              style={{ background: '#4caf50', border: 'none', borderRadius: '50%', width: 48, height: 48, color: '#fff', fontSize: 32, cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center' }}\n              title=\"Add to Shopping List\"\n              onClick={() => {\n                // Add to shopping list\n                let list = JSON.parse(localStorage.getItem('shoppingList') || '[]');\n                if (!list.find(item => item.SKU === product.SKU)) {\n                  list.push(product);\n                  localStorage.setItem('shoppingList', JSON.stringify(list));\n                  window.dispatchEvent(new Event('shoppingListUpdated'));\n\n                  alert('Product added to shopping list');\n                } else {\n                  alert('Product already in shopping list');\n                }\n              }}\n            >\n              &#10004;\n            </button>\n          </div>\n        </div>\n      )}\n    </section>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAyB,IAAxB,CAAEC,kBAAmB,CAAC,CAAAD,IAAA,CACrD,KAAM,CAAAE,GAAG,CAAGD,kBAAkB,EAAI,EAAE,CACpC,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAIxC;AACAD,SAAS,CAAC,IAAM,CACd,GAAI,CAACU,GAAG,CAAE,CACRE,UAAU,CAAC,IAAI,CAAC,CAChBE,UAAU,CAAC,KAAK,CAAC,CACjB,OACF,CACAA,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACdd,KAAK,CAACe,IAAI,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,2BAA0B,CAAEX,GAAI,CAAC,CAAC,CACrGY,IAAI,CAACC,GAAG,EAAI,CACXX,UAAU,CAACW,GAAG,CAACC,IAAI,CAACb,OAAO,CAAC,CAC5BG,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACDW,KAAK,CAAC,IAAM,CACXb,UAAU,CAAC,IAAI,CAAC,CAChBI,QAAQ,CAAC,oBAAoB,CAAC,CAC9BF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAAE,CAACJ,GAAG,CAAC,CAAC,CAET,mBACEJ,KAAA,YAASoB,SAAS,CAAC,kBAAkB,CAACC,KAAK,CAAE,CAAEC,SAAS,CAAE,OAAO,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAC,QAAA,eACrF1B,IAAA,OAAA0B,QAAA,CAAI,iBAAe,CAAI,CAAC,CACvBjB,OAAO,cACNT,IAAA,QAAA0B,QAAA,CAAK,oBAAkB,CAAK,CAAC,CAC3B,CAACpB,GAAG,EAAIK,KAAK,EAAI,CAACJ,OAAO,cAC3BL,KAAA,QAAKqB,KAAK,CAAE,CAAEI,SAAS,CAAE,QAAQ,CAAEC,KAAK,CAAE,MAAM,CAAEC,OAAO,CAAE,QAAQ,CAAEC,QAAQ,CAAE,EAAG,CAAE,CAAAJ,QAAA,eAClF1B,IAAA,QAAK+B,GAAG,CAAC,6GAA6G,CAACC,GAAG,CAAC,qBAAqB,CAACT,KAAK,CAAE,CAAEU,KAAK,CAAE,EAAE,CAAEC,YAAY,CAAE,EAAE,CAAEC,OAAO,CAAE,IAAK,CAAE,CAAE,CAAC,cAC1MnC,IAAA,QAAA0B,QAAA,CAAK,8BAA4B,CAAK,CAAC,EACpC,CAAC,cAENxB,KAAA,QAAKoB,SAAS,CAAC,cAAc,CAAAI,QAAA,eAC3B1B,IAAA,QACE+B,GAAG,CAAC,6GAA6G,CACjHC,GAAG,CAAC,SAAS,CACbT,KAAK,CAAE,CAAEU,KAAK,CAAE,GAAG,CAAEG,MAAM,CAAE,GAAG,CAAEC,SAAS,CAAE,SAAS,CAAEC,OAAO,CAAE,OAAO,CAAEC,MAAM,CAAE,kBAAkB,CAAEC,UAAU,CAAE,SAAS,CAAEC,YAAY,CAAE,EAAG,CAAE,CACjJ,CAAC,cACFvC,KAAA,QAAKoB,SAAS,CAAC,iBAAiB,CAAAI,QAAA,eAC9B1B,IAAA,QAAKsB,SAAS,CAAC,cAAc,CAAAI,QAAA,CAAEnB,OAAO,CAACmC,IAAI,CAAM,CAAC,cAClD1C,IAAA,QAAKsB,SAAS,CAAC,cAAc,CAAAI,QAAA,CAAEnB,OAAO,CAACoC,WAAW,CAAM,CAAC,cACzDzC,KAAA,QAAKoB,SAAS,CAAC,eAAe,CAAAI,QAAA,EAAC,GAAC,CAACnB,OAAO,CAACqC,KAAK,EAAM,CAAC,cACrD1C,KAAA,QAAKoB,SAAS,CAAC,aAAa,CAAAI,QAAA,EAAC,OAAK,CAACnB,OAAO,CAACsC,GAAG,EAAM,CAAC,CACpDtC,OAAO,CAACuC,GAAG,eAAI9C,IAAA,MAAG+C,IAAI,CAAExC,OAAO,CAACuC,GAAI,CAACE,MAAM,CAAC,QAAQ,CAACC,GAAG,CAAC,qBAAqB,CAAAvB,QAAA,CAAC,cAAY,CAAG,CAAC,EAC7F,CAAC,cACNxB,KAAA,QAAKoB,SAAS,CAAC,iBAAiB,CAACC,KAAK,CAAE,CAAEe,OAAO,CAAE,MAAM,CAAEY,GAAG,CAAE,EAAE,CAAEC,SAAS,CAAE,EAAG,CAAE,CAAAzB,QAAA,eAClF1B,IAAA,WACEsB,SAAS,CAAC,YAAY,CACtBC,KAAK,CAAE,CAAEiB,UAAU,CAAE,SAAS,CAAEY,MAAM,CAAE,MAAM,CAAEX,YAAY,CAAE,KAAK,CAAER,KAAK,CAAE,EAAE,CAAEG,MAAM,CAAE,EAAE,CAAER,KAAK,CAAE,MAAM,CAAEE,QAAQ,CAAE,EAAE,CAAEuB,MAAM,CAAE,SAAS,CAAEf,OAAO,CAAE,MAAM,CAAEgB,UAAU,CAAE,QAAQ,CAAEC,cAAc,CAAE,QAAS,CAAE,CAC9MC,KAAK,CAAC,SAAS,CACfC,OAAO,CAAEA,CAAA,GAAM,CACb;AACA,GAAI,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAI,IAAI,CAAC,CACnEJ,IAAI,CAAGA,IAAI,CAACK,MAAM,CAACC,IAAI,EAAIA,IAAI,CAACnB,GAAG,GAAKtC,OAAO,CAACsC,GAAG,CAAC,CACpDgB,YAAY,CAACI,OAAO,CAAC,cAAc,CAAEN,IAAI,CAACO,SAAS,CAACR,IAAI,CAAC,CAAC,CAC1DS,KAAK,CAAC,oCAAoC,CAAC,CAC7C,CAAE,CAAAzC,QAAA,CACH,QAED,CAAQ,CAAC,cACT1B,IAAA,WACEsB,SAAS,CAAC,SAAS,CACnBC,KAAK,CAAE,CAAEiB,UAAU,CAAE,SAAS,CAAEY,MAAM,CAAE,MAAM,CAAEX,YAAY,CAAE,KAAK,CAAER,KAAK,CAAE,EAAE,CAAEG,MAAM,CAAE,EAAE,CAAER,KAAK,CAAE,MAAM,CAAEE,QAAQ,CAAE,EAAE,CAAEuB,MAAM,CAAE,SAAS,CAAEf,OAAO,CAAE,MAAM,CAAEgB,UAAU,CAAE,QAAQ,CAAEC,cAAc,CAAE,QAAS,CAAE,CAC9MC,KAAK,CAAC,sBAAsB,CAC5BC,OAAO,CAAEA,CAAA,GAAM,CACb;AACA,GAAI,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAI,IAAI,CAAC,CACnE,GAAI,CAACJ,IAAI,CAACU,IAAI,CAACJ,IAAI,EAAIA,IAAI,CAACnB,GAAG,GAAKtC,OAAO,CAACsC,GAAG,CAAC,CAAE,CAChDa,IAAI,CAACW,IAAI,CAAC9D,OAAO,CAAC,CAClBsD,YAAY,CAACI,OAAO,CAAC,cAAc,CAAEN,IAAI,CAACO,SAAS,CAACR,IAAI,CAAC,CAAC,CAC1DY,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC,CAEtDL,KAAK,CAAC,gCAAgC,CAAC,CACzC,CAAC,IAAM,CACLA,KAAK,CAAC,kCAAkC,CAAC,CAC3C,CACF,CAAE,CAAAzC,QAAA,CACH,QAED,CAAQ,CAAC,EACN,CAAC,GAhD2BnB,OAAO,CAACkE,EAiDtC,CACN,EACM,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}