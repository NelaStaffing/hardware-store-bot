{"ast":null,"code":"import React,{useRef,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export default function VoiceButton(_ref){let{disabled,onResult}=_ref;const[recording,setRecording]=useState(false);const recognitionRef=useRef(null);const handleClick=()=>{if(disabled)return;if(!('webkitSpeechRecognition'in window||'SpeechRecognition'in window)){alert('Speech recognition not supported in this browser.');return;}if(recording){var _recognitionRef$curre;(_recognitionRef$curre=recognitionRef.current)===null||_recognitionRef$curre===void 0?void 0:_recognitionRef$curre.stop();setRecording(false);return;}const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;const recognition=new SpeechRecognition();recognition.lang='en-US';recognition.interimResults=false;recognition.maxAlternatives=1;recognition.onresult=event=>{const transcript=event.results[0][0].transcript;console.log('Speech transcript:',transcript);if(onResult)onResult(transcript);setRecording(false);};recognition.onerror=event=>{console.error('Speech recognition error:',event.error);setRecording(false);};recognition.onend=()=>setRecording(false);recognitionRef.current=recognition;recognition.start();setRecording(true);};return/*#__PURE__*/_jsx(\"button\",{disabled:disabled,onClick:handleClick,title:disabled?'Voice input disabled':recording?'Stop recording':'Start voice input',style:{background:disabled?'#eee':recording?'#ff5252':'#007aff',color:'#fff',border:'none',borderRadius:'50%',width:36,height:36,marginLeft:4,cursor:disabled?'not-allowed':'pointer',display:'flex',alignItems:'center',justifyContent:'center',fontSize:18,opacity:disabled?0.5:1,transition:'background 0.2s'},children:/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"mic\",children:\"\\uD83C\\uDFA4\"})});}","map":{"version":3,"names":["React","useRef","useState","jsx","_jsx","VoiceButton","_ref","disabled","onResult","recording","setRecording","recognitionRef","handleClick","window","alert","_recognitionRef$curre","current","stop","SpeechRecognition","webkitSpeechRecognition","recognition","lang","interimResults","maxAlternatives","onresult","event","transcript","results","console","log","onerror","error","onend","start","onClick","title","style","background","color","border","borderRadius","width","height","marginLeft","cursor","display","alignItems","justifyContent","fontSize","opacity","transition","children","role"],"sources":["C:/Users/nelav/OneDrive/Desktop/Code Projects/hardware Store Bot/frontend/src/components/VoiceButton.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\n\nexport default function VoiceButton({ disabled, onResult }) {\n  const [recording, setRecording] = useState(false);\n  const recognitionRef = useRef(null);\n\n  const handleClick = () => {\n    if (disabled) return;\n    if (!('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)) {\n      alert('Speech recognition not supported in this browser.');\n      return;\n    }\n    if (recording) {\n      recognitionRef.current?.stop();\n      setRecording(false);\n      return;\n    }\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    const recognition = new SpeechRecognition();\n    recognition.lang = 'en-US';\n    recognition.interimResults = false;\n    recognition.maxAlternatives = 1;\n    recognition.onresult = (event) => {\n      const transcript = event.results[0][0].transcript;\n      console.log('Speech transcript:', transcript);\n      if (onResult) onResult(transcript);\n      setRecording(false);\n    };\n    recognition.onerror = (event) => {\n      console.error('Speech recognition error:', event.error);\n      setRecording(false);\n    };\n    recognition.onend = () => setRecording(false);\n    recognitionRef.current = recognition;\n    recognition.start();\n    setRecording(true);\n  };\n\n  return (\n    <button\n      disabled={disabled}\n      onClick={handleClick}\n      title={disabled ? 'Voice input disabled' : recording ? 'Stop recording' : 'Start voice input'}\n      style={{\n        background: disabled ? '#eee' : recording ? '#ff5252' : '#007aff',\n        color: '#fff',\n        border: 'none',\n        borderRadius: '50%',\n        width: 36,\n        height: 36,\n        marginLeft: 4,\n        cursor: disabled ? 'not-allowed' : 'pointer',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        fontSize: 18,\n        opacity: disabled ? 0.5 : 1,\n        transition: 'background 0.2s',\n      }}\n    >\n      <span role=\"img\" aria-label=\"mic\">ðŸŽ¤</span>\n    </button>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}